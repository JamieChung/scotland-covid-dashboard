{"version":3,"file":"static/webpack/static/development/pages/index.js.122c87c4e5a73ce22bf0.hot-update.js","sources":["webpack:///./pages/components/StaffAbsencesCard.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, LinearProgress } from \"@material-ui/core\";\nimport axios from 'axios';\nimport csvtojson from 'csvtojson';\nimport React from \"react\";\nimport { Bar, CartesianGrid, ComposedChart, Legend, Line, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\nimport * as CHART_COLORS from '../../utils/chartcolors';\nimport * as _ from 'lodash';\n\nexport default class StaffAbsencesCard extends React.Component<{ title: string, query: any }> {\n\n    state = {\n        value: 0,\n        ready: false\n    }\n\n    componentDidMount() {\n        // axios.get(utilities.createbaseURLWithQuery(this.props.query))\n        axios.get('https://raw.githubusercontent.com/watty62/Scot_covid19/master/data/processed/staff_absences.csv')\n            .then(response => {\n                csvtojson({headers: ['date', 'nurses_midwives', 'medical_dental', 'other', 'all']})\n                    .fromString(response.data)\n                    .then((json) => {\n                        this.setState({ \n                            value: json , ready: true \n                        });\n                    })\n            })\n    }\n\n    render() {\n        return (\n            <Card>\n                <CardHeader subheader={this.props.title} />\n                {this.state.ready ?\n                    <CardContent>\n                        <ResponsiveContainer width='100%' height={500}>\n                            <ComposedChart data={this.state.value}>\n                                <Bar barSize={20} stackId=\"a\" fill={CHART_COLORS.COLOR_PBI_DEFAULT[0]} dataKey=\"nurses_midwives\" name=\"Nurses and Midwives\" />\n                                <Bar barSize={20} stackId=\"a\" fill={CHART_COLORS.COLOR_PBI_DEFAULT[1]} dataKey=\"medical_dental\" name=\"Medical and Dental\" />\n                                <Bar barSize={20} stackId=\"a\" fill={CHART_COLORS.COLOR_PBI_DEFAULT[2]} dataKey=\"other\" name=\"Other\" />\n                                <Line type=\"monotone\" dataKey=\"all\" name=\"All\" />\n                                <Legend />\n                                <Tooltip />\n                                <CartesianGrid strokeDasharray=\"5 5\" />\n                                <Brush dataKey=\"name\" height={30} stroke=\"#8884d8\" />\n    \n                                <YAxis />\n                                <XAxis\n                                    dataKey=\"date\"\n                                    // allowDuplicatedCategory={false}\n                                // tickFormatter={utilities.formatDateLabel}\n                                />\n                            </ComposedChart>\n                        </ResponsiveContainer>\n                    </CardContent> :\n                    <LinearProgress />}\n            </Card>\n        )\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAFA;AACA;;;;;;AAIA;AAAA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAGA;AACA;AAAA;AADA;AAGA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAlDA;AACA;;;;;A","sourceRoot":""}