{"version":3,"file":"static/webpack/static/development/pages/index.js.c8c4c769d7b9640abbd5.hot-update.js","sources":["webpack:///./pages/components/ICUTrendCard.tsx","webpack:///./pages/components/app.tsx"],"sourcesContent":["import React from \"react\";\nimport { Card, CardHeader, LinearProgress, CardContent, Typography } from \"@material-ui/core\"\nimport axios from 'axios';\nimport numeral from 'numeral';\nimport * as utilities from '../../utils/utilities';\nimport * as _ from 'lodash';\nimport csvtojson from 'csvtojson';\nimport { ResponsiveContainer, Brush, LineChart, Line, Legend, XAxis, YAxis, Tooltip, CartesianGrid } from 'recharts';\nimport * as CHART_COLORS from '../../utils/chartcolors';\n\nexport default class ICUTrendCard extends React.Component<{ title: string, query: any }> {\n\n    state = {\n        value: 0,\n        ready: false\n    }\n\n    componentDidMount() {\n        // axios.get(utilities.createbaseURLWithQuery(this.props.query))\n        axios.get('https://raw.githubusercontent.com/watty62/Scot_covid19/master/data/processed/intensive_care.csv')\n            .then(response => {\n                csvtojson()\n                    .fromString(response.data)\n                    .then((json) => {\n                        this.setState({ value: json, ready: true });\n                })\n            })\n    }\n\n    render() {\n        return (\n            <Card>\n                <CardHeader subheader={this.props.title} />\n                {this.state.ready ?\n                    <CardContent>\n                        <ResponsiveContainer width='100%' height={500}>\n                            <LineChart data={this.state.value}>\n                            <Line fill={CHART_COLORS.COLOR_PBI_DEFAULT[0]} dataKey=\"icu_patients\" name=\"ICU Patients\" />\n                            <Legend />\n                            <Tooltip />\n                            <CartesianGrid strokeDasharray=\"5 5\" />\n                            <YAxis label={{ value: 'ICU Patients', angle: -90, position: 'insideLeft' }} />\n                            <XAxis\n                                dataKey=\"date\"\n                                allowDuplicatedCategory={false}\n                                // tickFormatter={utilities.formatDateLabel}\n                                />\n                            </LineChart>\n                        </ResponsiveContainer>\n                    </CardContent> :\n                    <LinearProgress />}\n            </Card>\n        )\n    }\n}","import { ExpansionPanel, ExpansionPanelDetails, ExpansionPanelSummary, Grid, makeStyles } from '@material-ui/core';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport * as queries from '../../utils/queries';\nimport AreasCharts from '../components/areasCharts';\nimport CountryCharts from '../components/countryCharts';\nimport SingleKPICard from '../components/singleKPICard';\nimport TopAreasTable from '../components/topAreasTable';\nimport TopCountriesTable from '../components/topCountriesTable';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ICUTrendCard from './ICUTrendCard';\nimport StaffAbsencesCard from './StaffAbsencesCard';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n}));\n\nexport function areaExpansions() {\n\n    const classes = {\n        heading: {\n            flexBasis: '33.33%',\n            flexShrink: 0\n        }\n    };\n\n    return (\n        <div>\n            <ExpansionPanel>\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                    <Typography>Areas #1</Typography>\n                    <Typography>Descripton of Area #1</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Typography>Details of area 1</Typography>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n            <ExpansionPanel>\n                <ExpansionPanelSummary>\n                    <Typography>Areas #2</Typography>\n                </ExpansionPanelSummary>\n            </ExpansionPanel>\n        </div>\n    )\n}\n\nexport default class App extends React.Component {\n\n    render() {\n        return (\n            <Container>\n                <Typography variant=\"h4\">Scotland COVID-19 Dashboard</Typography>\n                <Typography variant=\"overline\" style={{ marginBottom: 25, display: 'block' }}>Updated Daily - BST/GMT</Typography>\n                <Grid container spacing={3}>\n                    <Grid item xs={12} md={6}>\n                        <SingleKPICard title=\"Total number of confirmed cases in Scotland\" query={queries.QUERY_TOTAL_CONFIRMED_CASES_SCOTLAND} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <SingleKPICard title=\"Latest daily number of confirmed cases in Scotland\" query={queries.QUERY_DAILY_CHANGE_CONFIRMED_CASES_SCOTLAND} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <SingleKPICard title=\"Total number of tests in Scotland\" query={queries.QUERY_TOTAL_TESTS_SCOTLAND} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <SingleKPICard title=\"Latest daily number of tests in Scotland\" query={queries.QUERY_DAILY_CHANGE_TESTS_SCOTLAND} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <SingleKPICard title=\"Total number of deaths in Scotland\" query={queries.QUERY_TOTAL_DEATHS_SCOTLAND} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <SingleKPICard title=\"Latest daily number of deaths in Scotland\" query={queries.QUERY_DAILY_CHANGE_DEATHS_SCOTLAND} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        {areaExpansions()}\n                    </Grid>\n                    <Grid item xs={12}>\n                        <CountryCharts />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TopAreasTable />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TopCountriesTable />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <AreasCharts />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <ICUTrendCard title=\"ICU\" query=\"2141\" />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <StaffAbsencesCard title=\"Staff Absences\" query=\"2141\" />\n                    </Grid>\n                </Grid>\n            </Container>\n        );\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAFA;AACA;;;;;;AAIA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA3CA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AATA;AAAA;AAeA;AAEA;AACA;AACA;AACA;AAFA;AADA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAlDA;AACA;;;;;A","sourceRoot":""}